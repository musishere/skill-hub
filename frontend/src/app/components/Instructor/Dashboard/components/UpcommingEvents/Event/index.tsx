import React from "react";
import Image from "next/image";

interface EventProps {
  title: string;
  image: string;
  type: "zoom" | "teams" | "session";
  attendees: Array<string>;
  isLast?: boolean;
}

const Event: React.FC<EventProps> = ({
  isLast,
  title,
  image,
  type,
  attendees,
}) => {
  const classNames = {
    root: `flex items-start gap-4 py-4 px-3 rounded-lg transition-all duration-200 ease-in-out over:translate-y-[-1px] hover:shadow-sm hover:bg-[rgba(19,196,204,.04)] cursor-pointer ${
      isLast ? "" : "border-b border-gray-300"
    }`,
    image: "w-12 h-12 rounded-[10px] object-cover shadow",
    content: {
      root: "flex-1",
      title:
        "text-[15px] font-semibold text-[#142e53] mb-1.5 whitespace-nowrap overflow-hidden truncate",
      meta: "flex items-center gap-3 text-[13px]",
      attendees: "flex items-center mt-[10px]",
      avatar: "rounded-full border-2 border-white -ml-2 shadow",
      attendeeCount:
        "bg-[rgba(59,110,145,.08)] text-[#3b6e91] text-[12px] py-1 px-2.5 rounded-[12px] font-semibold",
    },
  };

  const Icon = React.useMemo(() => {
    switch (type) {
      case "zoom":
        return (
          <>
            <svg
              fill="none"
              viewBox="0 0 38 38"
              color="#15b7c3"
              className="w-5 h-5"
            >
              <path
                strokeLinejoin="round"
                strokeLinecap="round"
                strokeWidth="1.2"
                stroke="#15B7C3"
                d="M22.8865 17.1133L27.3332 14.42V23.5867L22.8865 20.8867M10.6665 14.42H20.8532C21.3925 14.42 21.9096 14.6342 22.291 15.0155C22.6723 15.3969 22.8865 15.9141 22.8865 16.4533V23.5867H12.6998C12.4323 23.5867 12.1673 23.5339 11.9202 23.4313C11.6731 23.3287 11.4486 23.1783 11.2597 22.9888C11.0708 22.7992 10.9212 22.5743 10.8194 22.3268C10.7176 22.0794 10.6656 21.8142 10.6665 21.5467V14.42Z"
              ></path>
            </svg>
            <span className="text-[#15b7c3]">Zoom</span>
          </>
        );
      case "teams":
        return (
          <>
            <svg
              className="w-5 h-5"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 55 55"
              color="#608cfd"
            >
              <path
                fill="currentColor"
                d="M28.0017 15.7696C28.9609 15.1655 30.0969 14.9053 31.2235 15.0316C32.35 15.158 33.4001 15.6634 34.2017 16.465C34.2065 16.4697 34.2112 16.4745 34.216 16.4793C34.7116 16.347 35.2288 16.3033 35.7436 16.3522C36.5245 16.4265 37.2706 16.7113 37.9023 17.1764C38.534 17.6414 39.0277 18.2692 39.3306 18.9927C39.6335 19.7163 39.7343 20.5085 39.6223 21.2849C39.5339 21.8974 39.3157 22.4818 38.9845 23H41.3333C41.8856 23 42.3333 23.4477 42.3333 24V30.6667C42.3333 32.3464 41.6661 33.9573 40.4783 35.145C39.3063 36.317 37.7222 36.9823 36.0665 36.9997C35.7186 37.6388 35.2783 38.2306 34.7545 38.7545C33.3167 40.1923 31.3667 41 29.3333 41C25.9158 41 23.0295 38.7476 22.0364 35.6667H16C15.4477 35.6667 15 35.219 15 34.6667V21.3333C15 20.7811 15.4477 20.3333 16 20.3333H25.6773C25.6329 19.6676 25.7218 18.9951 25.9442 18.3563C26.317 17.2858 27.0425 16.3737 28.0017 15.7696ZM27.6847 20.3333H29.3333C29.8856 20.3333 30.3333 20.7811 30.3333 21.3333V22.982C30.4259 22.9923 30.5187 22.9983 30.6117 23H30.7207C31.036 22.9943 31.3506 22.9388 31.6527 22.8337C31.9095 22.7442 32.1511 22.621 32.3718 22.4685C32.4493 22.3844 32.538 22.3167 32.6335 22.2654C32.854 22.0738 33.0469 21.8498 33.2047 21.5992C33.5672 21.0237 33.7233 20.342 33.6475 19.6661C33.5935 19.1845 33.424 18.7262 33.157 18.3285C33.1097 18.2761 33.0673 18.218 33.031 18.1546C32.9559 18.0583 32.8746 17.9663 32.7875 17.8792C32.3066 17.3982 31.6765 17.095 31.0005 17.0192C30.3246 16.9434 29.643 17.0995 29.0675 17.462C28.492 17.8244 28.0567 18.3717 27.833 19.014C27.6847 19.4399 27.6353 19.8908 27.6847 20.3333ZM35.38 18.3332C35.5062 18.6901 35.5923 19.0623 35.635 19.4432C35.7614 20.5697 35.5012 21.7058 34.8971 22.665C34.8425 22.7516 34.7855 22.8363 34.726 22.919C34.7797 22.9335 34.8339 22.946 34.8886 22.9567C35.3033 23.0372 35.732 23.0036 36.1291 22.8596C36.5261 22.7155 36.8766 22.4664 37.1432 22.1388C37.4098 21.8112 37.5825 21.4173 37.6428 20.9993C37.7031 20.5813 37.6488 20.1547 37.4857 19.7651C37.3226 19.3754 37.0568 19.0374 36.7166 18.787C36.3765 18.5366 35.9748 18.3832 35.5543 18.3432C35.4962 18.3377 35.4381 18.3344 35.38 18.3332ZM35 25H30.7365C30.6896 25.0007 30.6427 25.0007 30.5958 25H30.3333V34.6667C30.3333 35.219 29.8856 35.6667 29.3333 35.6667H24.1776C25.0725 37.6292 27.0479 39 29.3333 39C30.8362 39 32.2776 38.403 33.3403 37.3403C34.403 36.2776 35 34.8362 35 33.3333V25ZM22.8263 33.6667H28.3333V22.3333H17V33.6667H22.7865C22.7998 33.6664 22.813 33.6664 22.8263 33.6667ZM37 25V33.3333C37 33.8703 36.9437 34.4015 36.8343 34.9189C37.673 34.7544 38.451 34.344 39.0641 33.7308C39.8768 32.9181 40.3333 31.8159 40.3333 30.6667V25H37ZM19 25.3333C19 24.7811 19.4477 24.3333 20 24.3333H25.3333C25.8856 24.3333 26.3333 24.7811 26.3333 25.3333C26.3333 25.8856 25.8856 26.3333 25.3333 26.3333H23.6667V30.6667C23.6667 31.219 23.219 31.6667 22.6667 31.6667C22.1144 31.6667 21.6667 31.219 21.6667 30.6667V26.3333H20C19.4477 26.3333 19 25.8856 19 25.3333Z"
                clipRule="evenodd"
                fillRule="evenodd"
              ></path>
            </svg>
            <span className="text-[#608cfd]">Teams</span>
          </>
        );
      case "session":
        return (
          <>
            <svg
              className="w-5 h-5"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 38 38"
              color="#e47ef4"
            >
              <path
                strokeWidth="0.25"
                stroke="currentColor"
                fill="currentColor"
                d="M12.3205 25.7152H21.1938C21.8457 26.6366 22.9139 27.2235 24.1101 27.2235C26.0733 27.2235 27.674 25.6231 27.6746 23.6601C27.693 22.4994 27.1241 21.4509 26.2582 20.8003V12.2557V12.1307H26.1332H23.5913V11.943C23.5913 11.6717 23.3698 11.4502 23.0985 11.4502C22.8271 11.4502 22.6056 11.6717 22.6056 11.943V12.1307H19.1219V11.943C19.1219 11.6717 18.9005 11.4502 18.6291 11.4502C18.3578 11.4502 18.1363 11.6717 18.1363 11.943V12.1307H14.6342V11.943C14.6342 11.6717 14.4127 11.4502 14.1414 11.4502C13.87 11.4502 13.6486 11.6717 13.6486 11.943V12.1307H11.125H11V12.2557V24.3948C11 25.1259 11.5893 25.7152 12.3205 25.7152ZM21.6855 24.9867L21.6858 24.9866L21.6815 24.9786C21.4706 24.592 21.3472 24.1343 21.3472 23.659C21.3474 22.1285 22.5967 20.8965 24.1099 20.8965C24.6199 20.8965 25.0941 21.0371 25.4979 21.2829L25.4978 21.283L25.5031 21.2858C25.6925 21.3892 25.8671 21.5283 26.0263 21.6875L26.1147 21.5991L26.0263 21.6875C26.5388 22.2 26.8725 22.9049 26.8725 23.6775C26.8725 25.2076 25.6238 26.4394 24.1112 26.4402C23.3008 26.4221 22.5615 26.0697 22.0511 25.5068C21.9058 25.3434 21.7693 25.171 21.6855 24.9867ZM11.8016 12.9324H13.6667V13.1201C13.6667 13.3915 13.8881 13.6129 14.1595 13.6129C14.4308 13.6129 14.6523 13.3915 14.6523 13.1201V12.9324H18.1544V13.1201C18.1544 13.3915 18.3759 13.6129 18.6472 13.6129C18.9186 13.6129 19.14 13.3915 19.14 13.1201V12.9324H22.6421V13.1201C22.6421 13.3915 22.8636 13.6129 23.1349 13.6129C23.4063 13.6129 23.6278 13.3915 23.6278 13.1201V12.9324H25.4928V14.0987H11.8016V12.9324ZM12.3203 24.9135C12.0398 24.9135 11.8014 24.6752 11.8014 24.3947L11.8016 14.9004H25.438V20.3609C25.0283 20.1965 24.5773 20.0946 24.11 20.0946C22.1466 20.0946 20.5456 21.6956 20.5456 23.6591C20.5456 24.1068 20.6321 24.5251 20.7792 24.9135H12.3203Z"
              ></path>
              <path
                fill="currentColor"
                d="M25.3976 24.1553L25.0483 23.9346L24.3861 23.5116V21.7827C24.3861 21.6355 24.2573 21.5068 24.1103 21.5068C23.9631 21.5068 23.8345 21.6356 23.8345 21.7827V23.8059L25.1036 24.6152C25.1587 24.652 25.1956 24.652 25.2507 24.652C25.3427 24.652 25.4347 24.6152 25.4899 24.5232C25.5633 24.4128 25.5264 24.2473 25.3976 24.1553L25.3976 24.1553Z"
              ></path>
              <path
                fill="currentColor"
                d="M20.2375 16.75H19.1125V17.875H20.2375V16.75ZM22.15 16.75H21.025V17.875H22.15V16.75ZM22.9375 16.75H24.0625V17.875H22.9375V16.75ZM18.325 19H17.2V20.125H18.325V19ZM19.1125 19H20.2375V20.125H19.1125V19ZM22.15 19H21.025V20.125H22.15V19ZM17.2 21.25H18.325V22.375H17.2V21.25ZM16.4125 21.25H15.2875V22.375H16.4125V21.25ZM13.375 21.25H14.5V22.375H13.375V21.25ZM16.4125 19H15.2875V20.125H16.4125V19ZM13.375 19H14.5V20.125H13.375V19ZM24.0625 19H22.9375V20.125H24.0625V19ZM17.2 16.75H18.325V17.875H17.2V16.75ZM16.4125 16.75H15.2875V17.875H16.4125V16.75Z"
                clipRule="evenodd"
                fillRule="evenodd"
              ></path>
            </svg>
            <span className="text-[#e47ef4]">1:1 Session</span>
          </>
        );
      default:
        return <></>;
    }
  }, [type]);

  return (
    <div className={classNames.root}>
      <Image
        className={classNames.image}
        src={image}
        alt={title}
        width={48}
        height={48}
      />
      <div className={classNames.content.root}>
        <div className={classNames.content.title}>{title}</div>
        <div className={classNames.content.meta}>
          <div className="flex items-center gap-[6px] font-semibold">{Icon}</div>
          <div className="flex items-center gap-[6px] text-[#3b6e91]">
            Nov 15, 9:00 AM
          </div>
        </div>
        <div className={classNames.content.attendees}>
          <div className="flex mr-[8px]">
            {attendees.map((attendee: string, index: number) => (
              <Image
                alt={`Attendee ${index + 1}`}
                src={attendee}
                key={index}
                className={`${classNames.content.avatar} ${
                  index === 0 ? "ml-0" : ""
                }`}
                width={24}
                height={24}
              />
            ))}
          </div>
          <span className={classNames.content.attendeeCount}>+10</span>
        </div>
      </div>
    </div>
  );
};

export default Event;
